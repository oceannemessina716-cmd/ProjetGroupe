<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Liste de contacts</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { background-color: #e9ecef; color: #333; }
header { background-color: #62a0df; color: white; padding: 20px; text-align: center; }
footer { background-color: #72b3f5; color: white; padding: 10px; text-align: center; position: fixed; bottom:0; width:100%; }
.table-hover tbody tr:hover { background-color: #adb5bd; }
.btn-custom { margin: 5px; }
</style>
</head>
<body>
<header>
    <h1>Liste de contacts</h1>
</header>

<div class="container mt-4">
    <table class="table table-hover table-striped" id="contactsTable">
        <thead class="table-dark">
            <tr>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Email</th>
                <th>Téléphone</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <div class="text-center mt-3">
        <a href="ajouter.html" class="btn btn-secondary btn-custom">Ajouter un contact</a>
        <a href="index.html" class="btn btn-dark btn-custom">Retour Accueil</a>
    </div>
</div>

<script src="contacts.js"></script>
<script>
function renderContacts() {
    const tbody = document.querySelector("#contactsTable tbody");
    tbody.innerHTML = "";
    const contacts = getContacts();
    contacts.forEach((c, i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
            <td>${c.nom}</td>
            <td>${c.prenom}</td>
            <td>${c.email}</td>
            <td>${c.telephone}</td>
            <td><button class="btn btn-sm btn-danger" onclick="deleteAndRender(${i})">Supprimer</button></td>
        `;
        tbody.appendChild(tr);
    });
}

function deleteAndRender(index) {
    deleteContact(index);
    renderContacts();
}

// Initial rendering
renderContacts();
</script>

<footer>
    Groupe 7 - Développement Web
</footer>
</body>
</html>
